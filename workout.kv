#:kivy 2.1.0
ScreenManager:
    MainMenuScreen:
    CalendarMenuScreen:
        id: calendar_menu
    WorkoutMenuScreen:
        id: workout_menu
    WaterMenuScreen:
        id: water_menu
    FoodMenuScreen:
        id: food_menu
    GoalsMenuScreen:
        id: goals_menu
    SettingMenuScreen:
        id: settings_menu
    ColorSettingScreen:

<MainMenuScreen>
    name: 'main menu'
    
    MDLabel:
        markup: True
        text: '[b] Wellness Tracker [/b]'
        font_size: '30sp'
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_color
        pos_hint: {'center_x': 0.5, 'center_y': 0.9}
        halign: 'center'
    
    MDIconButton:
        icon: 'calendar'
        icon_size: '100sp'
        pos_hint: {'center_x':0.3, 'center_y':0.70}
        theme_icon_color: "Custom"
        icon_color: app.theme_cls.primary_color
        on_release: root.manager.current = 'calendar menu'
    
    MDIconButton:
        icon: 'run'
        icon_size: '100sp'
        pos_hint: {'center_x':0.7, 'center_y':0.70}
        theme_icon_color: "Custom"
        icon_color: app.theme_cls.primary_color
        on_release: root.manager.current = 'workout menu'
            
    MDIconButton:
        icon: 'water'
        icon_size: '100sp'
        pos_hint: {'center_x':0.3, 'center_y':0.45}
        theme_icon_color: "Custom"
        icon_color: app.theme_cls.primary_color
        on_release: root.manager.current = 'water menu'
    
    MDIconButton:
        icon: 'silverware'
        icon_size: '100sp'
        pos_hint: {'center_x':0.7, 'center_y':0.45}
        theme_icon_color: "Custom"
        icon_color: app.theme_cls.primary_color
        on_release: root.manager.current = 'food menu'
    
    MDIconButton:
        icon: 'menu'
        icon_size: '100sp'
        pos_hint: {'center_x':0.3, 'center_y':0.20}
        theme_icon_color: "Custom"
        icon_color: app.theme_cls.primary_color
        on_release: root.manager.current = 'goals menu'
    
    MDIconButton:
        icon: 'cog'
        icon_size: '100sp'
        pos_hint: {'center_x':0.7, 'center_y':0.20}
        theme_icon_color: "Custom"
        icon_color: app.theme_cls.primary_color
        on_release: root.manager.current = 'setting menu'

<CalendarMenuScreen>
    name: 'calendar menu'
    
    MDIconButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.1, 'center_y':0.93}
        on_release: root.manager.current = 'main menu'
    
    MDLabel:
        id: calendar_label
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_color
        halign: 'center'
        markup: True
        text: "[size=45][b]Calendar[/b][/size]"
        pos_hint: {'y': .44}
    
<WorkoutMenuScreen>
    name: 'workout menu'
    
    MDIconButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.1, 'center_y':0.93}
        on_release:root.manager.current = 'main menu'
    
    MDLabel:
        id: workout_label
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_color
        halign: 'center'
        markup: True
        text: "[size=45][b]Workouts[/b][/size]"
        pos_hint: {'y': .44}

    MDScrollView:
        pos_hint: {'center_y': .5, 'center_x': .5}
        size_hint: .9, .8

        MDList:
            id: workout_container

    MDFloatingActionButton:
        icon: 'plus'
        icon_size: '70sp'
        pos_hint: {'center_x':0.775, 'center_y':0.1}
        md_bg_color: [0.2980392156862745, 0.6862745098039216, 0.3137254901960784, 1.0]
        on_release: app.show_workout_dialog()

<WaterMenuScreen>
    name: 'water menu'
    
    MDIconButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.1, 'center_y':0.93}
        on_release:root.manager.current = 'main menu'
    
    MDLabel:
        id: water_label
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_color
        halign: 'center'
        markup: True
        text: "[size=45][b]Water Log[/b][/size]"
        pos_hint: {'y': .44}

    MDScrollView:
        pos_hint: {'center_y': .5, 'center_x': .5}
        size_hint: .9, .8

        MDList:
            id: water_container

    MDFloatingActionButton:
        icon: 'plus'
        icon_size: '70sp'
        pos_hint: {'center_x':0.775, 'center_y':0.1}
        md_bg_color: [0.2980392156862745, 0.6862745098039216, 0.3137254901960784, 1.0]
        on_release: app.show_water_dialog()

<FoodMenuScreen>
    name: 'food menu'
    
    MDIconButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.1, 'center_y':0.93}
        on_release: root.manager.current = 'main menu'
    
    MDLabel:
        id: food_label
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_color
        halign: 'center'
        markup: True
        text: "[size=45][b]Food Log[/b][/size]"
        pos_hint: {'y': .44}
    
    #List of tasks
    MDScrollView:
        pos_hint: {'center_y': .5, 'center_x': .5}
        size_hint: .9, .8

        MDList:
            id: food_container
    
    MDFloatingActionButton:
        icon: 'plus'
        icon_size: '70sp'
        pos_hint: {'center_x':0.775, 'center_y':0.1}
        md_bg_color: [0.2980392156862745, 0.6862745098039216, 0.3137254901960784, 1.0]
        on_release: app.show_food_dialog()

<GoalsMenuScreen>
    name: 'goals menu'
    
    MDIconButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.1, 'center_y':0.93}
        on_release: root.manager.current = 'main menu'
    
    MDLabel:
        id: goals_label
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_color
        halign: 'center'
        markup: True
        text: "[size=45][b]Goals[/b][/size]"
        pos_hint: {'y': .44}

<SettingMenuScreen>
    name: 'setting menu'
    
    MDIconButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.1, 'center_y':0.93}
        on_release: root.manager.current = 'main menu'
    
    MDLabel:
        id: settings_label
        theme_text_color: "Custom"
        text_color: app.theme_cls.primary_color
        halign: 'center'
        markup: True
        text: "[size=45][b]Settings[/b][/size]"
        pos_hint: {'y': .44}
    
    MDScrollView:
        pos_hint: {'center_y': .65, 'center_x': .5}
        size_hint: .9, .5
        
        MDList:
        
            MDRectangleFlatButton:
                markup: True
                text: 'Change App Theme'
                theme_text_color: "Custom"
                text_color: app.theme_cls.primary_color
                line_color: app.theme_cls.primary_color
                pos_hint: {'center_x':0.5}
                on_release: root.manager.current = 'color setting'

<ColorSettingScreen>
    name: 'color setting'
    
    MDIconButton:
        icon: 'arrow-left'
        pos_hint: {'center_x':0.1, 'center_y':0.93}
        on_release: root.manager.current = 'setting menu'
    
    MDFillRoundFlatButton:
        markup: True
        text: "Red"
        theme_text_color: "Custom"
        text_color: "white"
        md_bg_color: "red"
        pos_hint: {'center_x':0.3, 'center_y':0.75}
        on_release: app.change_color("Red") 
    
    MDFillRoundFlatButton:
        markup: True
        text: "Orange"
        theme_text_color: "Custom"
        text_color: "white"
        md_bg_color: "orange"
        pos_hint: {'center_x':0.7, 'center_y':0.75}
        on_release: app.change_color("Orange") 
    
    MDFillRoundFlatButton:
        markup: True
        text: "Yellow"
        theme_text_color: "Custom"
        text_color: "white"
        md_bg_color: [1.0, 0.7568627450980392, 0.027450980392156862, 1.0]
        pos_hint: {'center_x':0.3, 'center_y':0.5}
        on_release: app.change_color("Amber") 

    MDFillRoundFlatButton:
        markup: True
        text: "Green"
        theme_text_color: "Custom"
        text_color: "white"
        md_bg_color: "green"
        pos_hint: {'center_x':0.7, 'center_y':0.5}
        on_release: app.change_color("Green") 

    MDFillRoundFlatButton:
        markup: True
        text: "Blue"
        theme_text_color: "Custom"
        text_color: "white"
        md_bg_color: "blue"
        pos_hint: {'center_x':0.3, 'center_y':0.25}
        on_release: app.change_color("Blue") 

    MDFillRoundFlatButton:
        markup: True
        text: "Purple"
        theme_text_color: "Custom"
        text_color: "white"
        md_bg_color: "purple"
        pos_hint: {'center_x':0.7, 'center_y':0.25}
        on_release: app.change_color("Purple") 

<WorkoutDialogContent>:
    orientation: "vertical"
    spacing: "10dp"
    size_hint: 1, None
    height: "140dp"

    MDLabel:
        markup: True
        text: 'Add Workout'
        halign: 'center'
        size_hint_y: None
        height: self.texture_size[1]
        font_size: 22
        padding_y: 15

    MDTextField:
        id: workout_name
        mode: 'round'
        hint_text: 'Workout Name'
        required: True
        halign: 'center'
        width: 200

    MDTextField:
        id: number_exercises
        mode: 'round'
        hint_text: 'Number of Exercises'
        required: True
        halign: 'center'
        width: 200

    MDFillRoundFlatButton:
        markup: True
        text: 'Add to Workouts'
        halign: 'center'
        padding_y: 15
        pos_hint: {'center_x': 0.5}
        md_bg_color: app.theme_cls.primary_color
        on_release: (app.create_new_workout(workout_name.text, number_exercises.text), app.close_workout_dialog())

<ExerciseDialogContent>:
    orientation: "vertical"
    spacing: "10dp"
    size_hint: 1, None
    height: "200dp"

    MDList:
        id: exercise_dialog_list
        
        MDLabel:
            markup: True
            text: 'Add Exercise'
            halign: 'center'
            size_hint_y: None
            height: self.texture_size[1]
            font_size: 22
            padding_y: 15

        MDTextField:
            id: exercise_name
            mode: 'round'
            hint_text: 'Workout Name'
            required: True
            halign: 'center'
            width: 200
        
#        MDSwitch:
#            id: exercise_type
#            active: True
#            pos_hint: {'center_x': 0.5}
#            icon_active: "clock"
#            icon_inactive: "reload"
#            on_active: app.add_exercise_field(*args)
            
        MDFillRoundFlatButton:
            markup: True
            text: 'Add to Workout'
            halign: 'center'
            pos_hint: {'center_x': 0.5}
            md_bg_color: app.theme_cls.primary_color
            on_release: (app.add_exercise(exercise_name.text), app.close_exercise_dialog())

<WaterDialogContent>:
    orientation: "vertical"
    spacing: "10dp"
    size_hint: 1, None
    height: "130dp"

    GridLayout:
        rows: 1

        MDTextField:
            id: gallons_consumed
            mode: 'round'
            hint_text: "Gallons of water"
            pos_hint: {"center_y": .4}

        MDIconButton:
            icon: 'calendar'
            on_release: root.show_date_picker()
            padding: '10dp'

    MDLabel:
        spacing: '10dp'
        id: date_text

    BoxLayout:
        orientation: 'horizontal'

        MDFillRoundFlatButton:
            text: "SAVE"
            on_release: (app.add_water(date_text.text, gallons_consumed.text), app.close_water_dialog())
        MDFlatButton:
            text: 'CANCEL'
            on_release: app.close_water_dialog()

<FoodDialogContent>:
    orientation: "vertical"
    spacing: "10dp"
    size_hint: 1, None
    height: "130dp"

    GridLayout:
        rows: 1

        MDTextField:
            id: calories_consumed
            mode: 'round'
            hint_text: "Calories Eaten"
            pos_hint: {"center_y": .4}

        MDIconButton:
            icon: 'calendar'
            on_release: root.show_date_picker()
            padding: '10dp'

    MDLabel:
        spacing: '10dp'
        id: date_text

    BoxLayout:
        orientation: 'horizontal'

        MDFillRoundFlatButton:
            text: "SAVE"
            on_release: (app.add_food(date_text.text, calories_consumed.text), app.close_food_dialog())
        MDFlatButton:
            text: 'CANCEL'
            on_release: app.close_food_dialog()



<WorkoutListItem>:
    id: workout_list_item
    markup: True

    IconRightWidget:
        icon: 'trash-can-outline'
        theme_icon_color: "Custom"
        icon_color: [0.9568627450980393, 0.2627450980392157, 0.21176470588235294, 1.0]
        on_release: (root.delete_item(workout_list_item))

<WaterListItem>:
    id: water_list_item
    markup: True

    IconRightWidget:
        icon: 'trash-can-outline'
        theme_icon_color: "Custom"
        icon_color: [0.9568627450980393, 0.2627450980392157, 0.21176470588235294, 1.0]
        on_release: (root.delete_item(water_list_item))

<FoodListItem>:
    id: food_list_item
    markup: True

    IconRightWidget:
        icon: 'trash-can-outline'
        theme_icon_color: "Custom"
        icon_color: [0.9568627450980393, 0.2627450980392157, 0.21176470588235294, 1.0]
        on_release: (root.delete_item(food_list_item))
